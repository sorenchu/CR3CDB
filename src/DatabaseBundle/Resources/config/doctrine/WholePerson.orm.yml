# src/DatabaseBundle/Resources/config/doctrine/WholePerson.orm.yml
DatabaseBundle\Entity\WholePerson:
  type: entity
  table: wholePerson
  repositoryClass: DatabaseBundle\Repository\WholePersonRepository
  id:
    id:
      type: integer
      generator:  { strategy: AUTO }

  oneToMany:
    playerData:
      targetEntity: PlayerData
      mappedBy: wholePerson
      cascade: ["persist", "remove"]

  oneToOne:
    personalData:
      targetEntity: PersonalData
      inversedBy: wholePerson
      joinColumn: 
        name: personalData_id
        referencedColumnName: id
        onDelete: 'CASCADE'
      cascade: ["persist", "remove"]

    coachData:
      targetEntity: CoachData
      inversedBy: wholePerson
      joinColumn:
        name: coachData_id
        referencedColumnName: id
        onDelete: 'CASCADE'
      cascade: ["persist", "remove"]

    memberData:
      targetEntity: MemberData
      inversedBy: wholePerson
      joinColumn:
        name: memberData_id
        referencedColumnName: id
        onDelete: 'CASCADE'
      cascade: ["persist", "remove"]

    parentData:
      targetEntity: ParentData
      inversedBy: wholePerson
      joinColumn:
        name: parentData_id
        referencedColumnName: id
        onDelete: 'CASCADE'
      cascade: ["persist", "remove"]
