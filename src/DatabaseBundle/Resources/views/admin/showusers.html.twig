{% extends 'DatabaseBundle:base:admin_base.html.twig' %}

{% block title %} Mostrando usuarios {% endblock %}

{%block body %}
<h1>Usuarios</h1>

{# src/DatabaseBundle/Resources/view/admin/showusers.html.twig #}
{% if deleted is defined %}
  {% if deleted == true %}
    <span>El usuario se ha borrado correctamente</span>
  {% else %}
    <span>No se puede borrar el usuario <strong>admin</strong></span>
  {% endif %}
{% endif %}

<table style="width: 100%">
<tr>
  <th><strong>Usuario</strong></th>
  {# TODO: password needs to be skipped #}
  <th><strong>Password</strong></th>
  <th><strong>Rol</strong></th>
</tr>
{% for user in userData %}
  <tr>
    <td> {{ user.getUsername() }} </td>
    <td> ***************** </td>
    <td> {{ user.getRole() }} </td>
    <td> <a href="/admin/editUser/{{user.getId()}}">Editar</a></td>
    <td> <a href="/admin/deleteUser/{{user.getId()}}" onclick="return confirm('¿Estás seguro de querer borrar este usuario?')"> Eliminar </a> </td>
  </tr>
{% endfor %}
</table>
{% endblock %}
