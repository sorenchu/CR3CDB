{% extends 'DatabaseBundle:base:base.html.twig' %}

{% block title %}
  Mostrando equipo {{teamName}}
{% endblock %}

{% block body %}
<h1>Miembros del {{teamName}}</h1>
<table style="width: 100%">
{{ include(
      'DatabaseBundle:base:young_team_header.html.twig') }}
{% for data in playerData %}
  {% if not data.getParentData().isEmpty()  %}
    {% for parent in data.getParentData() %}
      <tr>
        <td> {{ data.getWholePerson().getPersonalData().getName() }}
             {{ data.getWholePerson().getPersonalData().getSurname() }} </td>
        <td> {{ data.getWholePerson().getPersonalData().getNickname() }} </td>
        <td> {{ parent.getWholePerson().getPersonalData().getName() }}
             {{ parent.getWholePerson().getPersonalData().getSurname() }} </td>
        <td> {{ data.getWholePerson().getPersonalData().getPhone() }} </td>
        <td> {{ data.getPayment() }} </td>
        <td> <a href="/person/editPerson/{{data.getWholePerson().getId()}}"> Editar </a> </td>
        <td> <a href="/person/deletePerson/{{data.getWholePerson().getId()}}" onclick="return confirm('¿Estás seguro de querer borrar este miembro?')"> Eliminar </a> </td>
      </tr>
    {% endfor %}
  {% else %}
    <tr>
      <td> {{ data.getWholePerson().getPersonalData().getName() }}
           {{ data.getWholePerson().getPersonalData().getSurname() }} </td>
      <td> {{ data.getWholePerson().getPersonalData().getNickname() }} </td>
      <td> </td>
      <td> {{ data.getWholePerson().getPersonalData().getPhone() }} </td>
      <td> {{ data.getPayment() }} </td>
      <td> <a href="/person/editPerson/{{data.getWholePerson().getId()}}"> Editar </a> </td>
      <td> <a href="/person/deletePerson/{{data.getWholePerson().getId()}}" onclick="return confirm('¿Estás seguro de querer borrar este miembro?')"> Eliminar </a> </td>

  {% endif %}
{% endfor %}
{% for data in coachData %}
  <tr>
    <td> {{ data.getWholePerson().getPersonalData().getName() }}
         {{ data.getWholePerson().getPersonalData().getSurname() }} (Entrenador) </td>
    <td> {{ data.getWholePerson().getPersonalData().getNickname() }} </td>
    <td> {{ data.getWholePerson().getPersonalData().getEmail() }} </td>
    <td> {{ data.getWholePerson().getPersonalData().getPhone() }} </td>
    <td> {{ data.getSalary() }} </td>
    <td> <a href="/person/editPerson/{{data.getWholePerson().getId()}}"> Editar </a> </td>
    <td> <a href="/person/deletePerson/{{data.getWholePerson().getId()}}" onclick="return confirm('¿Estás seguro de querer borrar este miembro?')"> Eliminar </a> </td>
  </tr>
{% endfor %}
</table>
{% endblock %}
